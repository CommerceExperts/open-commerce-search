<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>mindshift.search</groupId>
    <artifactId>search-java-base-pom</artifactId>
    <version>0.19.0</version>
  </parent>

  <artifactId>search-ocs-connector</artifactId>
  <version>0.5.0</version>
  <packaging>jar</packaging>
  <name>Search - OCS Connector</name>

  <properties>
        <!-- Fundamental settings -->
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <minimum.maven.version>3.3.9</minimum.maven.version>
    <minimum.java.version>1.8</minimum.java.version>

        <!-- Plugin Versions -->
    <assembly.plugin.version>3.1.1</assembly.plugin.version>
    <builhelper.plugin.version>3.0.0</builhelper.plugin.version>
    <checkstyle.plugin.version>3.1.0</checkstyle.plugin.version>
    <clean.plugin.version>3.1.0</clean.plugin.version>
    <compiler.plugin.version>3.8.1</compiler.plugin.version>
    <dependency.plugin.version>3.1.1</dependency.plugin.version>
    <deploy.plugin.version>3.0.0-M1</deploy.plugin.version>
    <enforcer.plugin.version>3.0.0-M3</enforcer.plugin.version>
    <failsafe.plugin.version>3.0.0-M4</failsafe.plugin.version>
    <formatter.plugin.version>2.11.0</formatter.plugin.version>
    <helper.plugin.version>3.2.0</helper.plugin.version>
    <install.plugin.version>3.0.0-M1</install.plugin.version>
    <jacoco.plugin.version>0.8.5</jacoco.plugin.version>
    <jar.plugin.version>3.2.0</jar.plugin.version>
    <javadoc.plugin.version>3.1.1</javadoc.plugin.version>
    <jgitflow.plugin.version>1.14.0</jgitflow.plugin.version>
    <jxr.plugin.version>3.0.0</jxr.plugin.version>
    <license.plugin.version>2.0.0</license.plugin.version>
    <pmd.plugin.version>3.12.0</pmd.plugin.version>
    <project-info-reports-plugin.version>3.0.0</project-info-reports-plugin.version>
    <resource.plugin.version>3.1.0</resource.plugin.version>
    <semver.plugin.version>3.3.1</semver.plugin.version>
    <site.plugin.version>3.8.2</site.plugin.version>
    <surefire.plugin.version>3.0.0-M4</surefire.plugin.version>
    <versions.plugin.version>2.7</versions.plugin.version>
    <checkstyle.version>8.21</checkstyle.version>

    <!-- Dependency Versions -->
    <search-commons-java.version>0.11.0</search-commons-java.version>
    <search-connector-api.version>0.21.0</search-connector-api.version>
    
  </properties>
  <dependencies>
    <dependency>
      <groupId>mindshift.search</groupId>
      <artifactId>search-connector-api</artifactId>
      <version>${search-connector-api.version}</version>
    </dependency>
    <dependency>
      <groupId>mindshift.search</groupId>
      <artifactId>search-connector-utils</artifactId>
      <version>${search-connector-api.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>mindshift.search</groupId>
      <artifactId>search-commons-java</artifactId>
      <version>${search-commons-java.version}</version>
      <scope>compile</scope>
    </dependency>
  </dependencies>

  <build>
        <!-- lock down plugins versions to avoid using Maven defaults
        (may be moved to parent pom) -->
    <pluginManagement>
      <plugins>

                <!--================================================================ -->
                <!--                    Build Helper Plugin                          -->
                <!--================================================================ -->
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>build-helper-maven-plugin</artifactId>
          <version>${builhelper.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                     Checkstyle Plugin                           -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-checkstyle-plugin</artifactId>
          <version>${checkstyle.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                      Clean Plugin                               -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-clean-plugin</artifactId>
          <version>${clean.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Compiler Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>${compiler.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Dependency Plugin                            -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-dependency-plugin</artifactId>
          <version>${dependency.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Deploy Plugin                                -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-deploy-plugin</artifactId>
          <version>${deploy.plugin.version}</version>
          <configuration>
            <deployAtEnd>true</deployAtEnd>
          </configuration>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Enforcer Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-enforcer-plugin</artifactId>
          <version>${enforcer.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                   Failsafe Plugin                               -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-failsafe-plugin</artifactId>
          <version>${failsafe.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                   Formatter Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>net.revelc.code.formatter</groupId>
          <artifactId>formatter-maven-plugin</artifactId>
          <version>${formatter.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                      Helper Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-help-plugin</artifactId>
          <version>${helper.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                     Install Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-install-plugin</artifactId>
          <version>${install.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                      Jacoco Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.jacoco</groupId>
          <artifactId>jacoco-maven-plugin</artifactId>
          <version>${jacoco.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                     Jar Plugin                                  -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-jar-plugin</artifactId>
          <version>${jar.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                     Javadoc Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>${javadoc.plugin.version}</version>
          <configuration>
            <additionalparam>-Xdoclint:all -Xdoclint:-missing</additionalparam>
            <additionalOptions>-Xdoclint:all -Xdoclint:-missing</additionalOptions>
            <additionalJOptions>
              <additionalJOption>-Xdoclint:all</additionalJOption>
              <additionalJOption>-Xdoclint:-missing</additionalJOption>
            </additionalJOptions>
          </configuration>
        </plugin>

                <!-- =============================================================== -->
                <!--                   JGitFlow Maven Plugin                         -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>com.amashchenko.maven.plugin</groupId>
          <artifactId>gitflow-maven-plugin</artifactId>
          <version>${jgitflow.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                       JXR Plugin                                -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jxr-plugin</artifactId>
          <version>${jxr.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                             License Plugin                      -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>license-maven-plugin</artifactId>
          <version>${license.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                        PMD Plugin                               -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-pmd-plugin</artifactId>
          <version>${pmd.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                Project Info Report Plugin                       -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-project-info-reports-plugin</artifactId>
          <version>${project-info-reports-plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Resource Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-resources-plugin</artifactId>
          <version>${resource.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                      Site Plugin                                -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-site-plugin</artifactId>
          <version>${site.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Surefire Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <artifactId>maven-surefire-plugin</artifactId>
          <version>${surefire.plugin.version}</version>
        </plugin>

                <!-- =============================================================== -->
                <!--                    Versions Plugin                              -->
                <!-- =============================================================== -->
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>versions-maven-plugin</artifactId>
          <version>${versions.plugin.version}</version>
          <configuration>
            <generateBackupPoms>false</generateBackupPoms>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>

            <!-- ================================================================= -->
            <!--                            Run CheckStyle                         -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <executions>
          <execution>
            <id>check-style</id>
            <phase>process-classes</phase>
            <goals>
              <goal>check</goal>
            </goals>
            <configuration>
              <violationSeverity>warning</violationSeverity>
              <failOnViolation>true</failOnViolation>
              <encoding>UTF-8</encoding>
              <configLocation>src/main/checkstyle/google-checks.xml</configLocation>
            </configuration>
          </execution>
        </executions>
        <configuration>
          <violationSeverity>warning</violationSeverity>
          <failOnViolation>true</failOnViolation>
          <encoding>UTF-8</encoding>
          <configLocation>src/main/checkstyle/google-checks.xml</configLocation>
          <sourceDirectories>
            <sourceDirectory>${project.build.sourceDirectory}</sourceDirectory>
            <sourceDirectory>${project.build.testSourceDirectory}</sourceDirectory>
          </sourceDirectories>
        </configuration>
        <dependencies>
          <dependency>
            <groupId>com.puppycrawl.tools</groupId>
            <artifactId>checkstyle</artifactId>
            <version>${checkstyle.version}</version>
          </dependency>
        </dependencies>
      </plugin>

            <!-- ================================================================= -->
            <!--                             Run Compiler                          -->
            <!-- ================================================================= -->
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>${compiler.plugin.version}</version>
        <configuration>
          <source>${minimum.java.version}</source>
          <target>${minimum.java.version}</target>
        </configuration>
      </plugin>

            <!-- ================================================================= -->
            <!--                             Run Enforcer                          -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <executions>
          <execution>
            <id>basic-checks</id>
            <phase>validate</phase>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <requireMavenVersion>
                  <version>${minimum.maven.version}</version>
                </requireMavenVersion>
                <dependencyConvergence />
              </rules>
            </configuration>
          </execution>
        </executions>
      </plugin>

            <!-- ================================================================= -->
            <!--       Run Formatter (Needs to be executed before CheckStyle)      -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>net.revelc.code.formatter</groupId>
        <artifactId>formatter-maven-plugin</artifactId>
        <executions>
          <execution>
            <id>check</id>
            <phase>process-sources</phase>
            <goals>
              <goal>format</goal>
              <goal>validate</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <encoding>UTF-8</encoding>
          <configFile>src/main/formatter/format.xml</configFile>
        </configuration>
      </plugin>

            <!-- ================================================================= -->
            <!--                      Run Help Plugin                              -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-help-plugin</artifactId>
        <executions>
          <execution>
            <id>show-profiles</id>
            <phase>validate</phase>
            <goals>
              <goal>active-profiles</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

            <!-- ================================================================= -->
            <!--                       Run JaCoCo Plugin                           -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.jacoco</groupId>
        <artifactId>jacoco-maven-plugin</artifactId>
        <executions>
          <execution>
            <id>jacoco-initialize</id>
            <goals>
              <goal>prepare-agent</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

            <!-- ================================================================= -->
            <!--                             Run PMD Plugin                        -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
        <configuration>
          <failOnViolation>true</failOnViolation>
          <printFailingErrors>true</printFailingErrors>
          <rulesets>
            <ruleset>src/main/pmd/rules.xml</ruleset>
          </rulesets>
        </configuration>
        <executions>
          <execution>
            <id>pmd</id>
            <phase>process-classes</phase>
            <goals>
              <goal>check</goal>
            </goals>
            <configuration>
              <printFailingErrors>true</printFailingErrors>
              <excludeRoots>
                <excludeRoot>target/generated-sources</excludeRoot>
              </excludeRoots>
            </configuration>
          </execution>
        </executions>
      </plugin>

            <!-- ================================================================= -->
            <!--                   Run Surefire Plugin                             -->
            <!-- ================================================================= -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>${surefire.plugin.version}</version>
        <executions>
          <execution>
            <goals>
              <goal>test</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <includes>
            <include>**/*UnitTest.java</include>
          </includes>
          <excludes>
            <exclude>**/*IntegrationTest.java</exclude>
          </excludes>
        </configuration>
      </plugin>


    </plugins>
  </build>

    <!-- ===================================================================== -->
    <!--                                                                       -->
    <!--                        Site Build Configuration                       -->
    <!--                                                                       -->
    <!-- ===================================================================== -->
  <reporting>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>versions-maven-plugin</artifactId>
        <reportSets>
          <reportSet>
            <reports>
              <report>dependency-updates-report</report>
              <report>plugin-updates-report</report>
              <report>property-updates-report</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-project-info-reports-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <reportSets>
          <reportSet>
            <reports>
              <report>checkstyle</report>
            </reports>
          </reportSet>
        </reportSets>
        <configuration>
          <violationSeverity>warning</violationSeverity>
          <failOnViolation>true</failOnViolation>
          <encoding>UTF-8</encoding>
          <configLocation>src/main/checkstyle/google-checks.xml</configLocation>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.jacoco</groupId>
        <artifactId>jacoco-maven-plugin</artifactId>
        <reportSets>
          <reportSet>
            <reports>
              <report>report</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <configuration>
          <show>protected</show>
          <source>8</source>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jxr-plugin</artifactId>
        <configuration>
          <linkJavadoc>true</linkJavadoc>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
        <configuration>
          <linkXref>true</linkXref>
          <sourceEncoding>utf-8</sourceEncoding>
          <minimumTokens>100</minimumTokens>
          <targetJdk>${minimum.java.version}</targetJdk>
          <excludeRoots>
            <excludeRoot>target/generated-sources/</excludeRoot>
          </excludeRoots>
          <rulesets>
            <ruleset>src/main/pmd/rules.xml</ruleset>
          </rulesets>
        </configuration>
      </plugin>
    </plugins>
  </reporting>

  <profiles>

        <!-- =================================================================== -->
        <!--           Profile is intended to be used by the CI/CD server        -->
        <!-- =================================================================== -->
    <profile>
      <id>release</id>
      <activation>
        <activeByDefault>false</activeByDefault>
      </activation>
      <properties>
        <developmentVersion>${parsedVersion.majorVersion}.${parsedVersion.nextMinorVersion}.0-SNAPSHOT
        </developmentVersion>
        <preReleaseGoals>clean deploy</preReleaseGoals>
        <fetchRemote>false</fetchRemote>
      </properties>
      <build>
        <plugins>

                    <!-- Run BuildHelper -->
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>parse-version</id>
                <goals>
                  <goal>parse-version</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

                    <!-- Run Enforcer -->
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>enforce-property</id>
                <phase>package</phase>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <property>developmentVersion</property>
                      <message>Next development version is not available</message>
                      <regex>^((\d+)\.(\d+)\.(\d+)-SNAPSHOT)$</regex>
                      <regexMessage>
                        Next development version (next SNAPSHOT)
                        should follow the maven
                        versioning scheme as outlined
                        at
                        https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN8855
                      </regexMessage>
                    </requireProperty>
                  </rules>
                  <fail>true</fail>
                </configuration>
              </execution>
            </executions>
          </plugin>

                    <!-- Run GitflowPlugin -->
          <plugin>
            <groupId>com.amashchenko.maven.plugin</groupId>
            <artifactId>gitflow-maven-plugin</artifactId>
            <inherited>false</inherited>
            <configuration>
              <versionTagPrefix>v</versionTagPrefix>
            </configuration>
            <executions>
              <execution>
                <id>release</id>
                <phase>install</phase>
                <goals>
                  <goal>release-start</goal>
                  <goal>release-finish</goal>
                  <goal>support-start</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

                    <!-- Run Jacoco -->
          <plugin>
            <groupId>org.jacoco</groupId>
            <artifactId>jacoco-maven-plugin</artifactId>
            <configuration>
              <skip>true</skip>
            </configuration>
          </plugin>

        </plugins>
      </build>
    </profile>

        <!-- =================================================================== -->
        <!--           Profile is intended to be used by the CI/CD server        -->
        <!-- =================================================================== -->
    <profile>
      <id>hotfix-start</id>
      <activation>
        <activeByDefault>false</activeByDefault>
      </activation>
      <properties>
        <developmentVersion>
          ${parsedVersion.majorVersion}.${parsedVersion.minorVersion}.${parsedVersion.nextIncementalVersion}-SNAPSHOT
        </developmentVersion>
        <pushRemote>true</pushRemote>
      </properties>
      <build>
        <plugins>

                    <!-- Run BuildHelper -->
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>parse-version</id>
                <goals>
                  <goal>parse-version</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

                    <!-- Run Enforcer -->
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>enforce-property</id>
                <phase>validate</phase>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <property>fromBranch</property>
                      <message>Support branch must be specified!</message>
                      <regex>^(support\/(\d+)\.(\d+)\.(\d+))$</regex>
                      <regexMessage>
                                                <![CDATA[Support branch must be given as 'support/<major>.<minor>.<patch>'!]]></regexMessage>
                    </requireProperty>
                  </rules>
                  <fail>true</fail>
                </configuration>
              </execution>
            </executions>
          </plugin>

                    <!-- Run GitflowPlugin -->
          <plugin>
            <groupId>com.amashchenko.maven.plugin</groupId>
            <artifactId>gitflow-maven-plugin</artifactId>
            <inherited>false</inherited>
            <configuration>
                            <!-- optional configuration -->
            </configuration>
            <executions>
              <execution>
                <id>hotfix-start</id>
                <phase>compile</phase>
                <goals>
                  <goal>hotfix-start</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

        </plugins>
      </build>
    </profile>

        <!-- =================================================================== -->
        <!--           Profile is intended to be used by the CI/CD server        -->
        <!-- =================================================================== -->
    <profile>
      <id>hotfix-finish</id>
      <activation>
        <activeByDefault>false</activeByDefault>
      </activation>
      <properties>
        <skipMergeDevBranch>true</skipMergeDevBranch>
        <skipMergeProdBranch>true</skipMergeProdBranch>
        <preReleaseGoals>clean deploy</preReleaseGoals>
        <fetchRemote>false</fetchRemote>
      </properties>
      <build>
        <plugins>

                    <!-- Run BuildHelper -->
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <executions>
              <execution>
                <id>parse-version</id>
                <goals>
                  <goal>parse-version</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

                    <!-- Run Enforcer -->
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>enforce-property</id>
                <phase>validate</phase>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <property>fromBranch</property>
                      <message>Support branch must be specified!</message>
                      <regex>^(support\/(\d+)\.(\d+)\.(\d+))$</regex>
                      <regexMessage>
                                                <![CDATA[Support branch must be given as 'support/<major>.<minor>.<patch>'!]]></regexMessage>
                    </requireProperty>
                  </rules>
                  <fail>true</fail>
                </configuration>
              </execution>
            </executions>
          </plugin>

                    <!-- Run GitflowPlugin -->
          <plugin>
            <groupId>com.amashchenko.maven.plugin</groupId>
            <artifactId>gitflow-maven-plugin</artifactId>
            <configuration>
              <versionTagPrefix>v</versionTagPrefix>
            </configuration>
            <executions>
              <execution>
                <id>hotfix-finish</id>
                <phase>install</phase>
                <goals>
                  <goal>hotfix-finish</goal>
                </goals>
              </execution>
            </executions>
          </plugin>

        </plugins>
      </build>
    </profile>

  </profiles>

</project>
